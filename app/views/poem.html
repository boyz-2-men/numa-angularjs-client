<div class="row">
  <div class="poem-title">
    {{ title }}
  </div>
  <div class="poem-body" style="padding: 0px 25px 25px 25px; white-space: pre-line;">
    {{ poem }}
  </div>
</div>

<div class="row">
  <div class="pull-right" style="padding: 10px;" ng-show="userId !== creatorId">
    <span>by <a ng-href="/#!/user/{{ creatorId }}">{{ creatorDisplayName }}</a></span>
  </div>
  <div class="pull-right">
    <a ng-href="/#!/edit/{{ poemId }}" ng-show="userId === creatorId && isAuthenticated" type="button" class="btn btn-sm btn-info">Edit</a>
  </div>
  <div class="pull-left">
    <div ng-if="userId !== creatorId && isAuthenticated">
      <i class="ion-arrow-up-a" style="font-size: 30px;"
        ng-click="changeVote(vote, 'up')" ng-class="{true:'up', false:''}[vote=='up']"></i>
      <i class="ion-arrow-down-a" style="font-size: 30px;"
        ng-click="changeVote(vote, 'down')" ng-class="{true:'down', false:''}[vote=='down']"></i>
    </div>
  </div>
  <div class="pull-left" style="padding: 10px;">
    <span class="label label-info">
      {{ totalVotes }}
      <span ng-show="totalVotes == 1 || totalVotes == -1">point</span>
      <span ng-show="totalVotes != 1 && totalVotes != -1">points</span>
    </span>
  </div>
  <div class="pull-left">
    <i class="ion-pricetags" ng-show="tags.length > 0" data-placement="right" title="Tags" data-content="{{ tags }}" bs-popover
      style="font-size: 30px; padding-right: 15px;"></i>
  </div>
</div>

<div class="row">
  <div class='form-group' ng-show="isAuthenticated">
    <textarea class='form-control poem-comment' ng-model='comment' rows='1' placeholder='Give {{ creatorDisplayName }} your feedback...'></textarea>
    <button type="button" class="btn btn-sm btn-primary pull-right" ng-click="saveComment()">Save</button>
  </div>
  <div ng-show="!isAuthenticated">
    <div class="well well-sm">
      <a ng-href="/#!/login">Log in</a> or <a ng-href="/#!/signup">signup</a> to give {{ creatorDisplayName }} your feedback
    </div>
  </div>
</div>

<div class="comment-item row" ng-repeat="comment in comments">
  <!-- <div class="col-xs-1">
    <div>
      <span class="vote">
        <i class="ion-arrow-up-a"></i>
      </span>
    </div>
    <div>
      <span class="vote">
        <i class="ion-arrow-down-a"></i>
      </span>
    </div>
  </div> -->
  <hr ng-if="!$first" style="color: #A9C9A6; background-color: #A9C9A6; height: 1px; border: none;" />
  <div class="col-xs-1">
    <img class="img-rounded" ng-src="{{ comment.creator.avatarUrl }}" style="min-height: 30px; height: 30px; margin-top: 10px;">
  </div>
  <div class="col-xs-11">
    <div class="comment-info">
      by <span><a ng-href="/#!/user/{{ comment.creator.id }}">{{ comment.creator.displayName }}</a></span>
      <span> â‹… {{ timeSince(comment.createdAt)}} ago</span>
    </div>
    <div class="comment">
      <span>{{ comment.comment }}</span>
    </div>
  </div>
</div>